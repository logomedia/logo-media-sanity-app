"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

// Recursively sanitize form data:
// - convert empty strings, undefined values and empty arrays to null (to correctly unset / delete fields)
// - trim whitespace on string fleids
// eslint-disable-next-line @typescript-eslint/no-explicit-any
var sanitizeFormData = function sanitizeFormData(formData) {
  return Object.keys(formData).reduce(function (acc, key) {
    var val = formData[key]; // TODO: refactor

    if ((0, _typeof2["default"])(val) === 'object' && val !== null && val.constructor !== Array) {
      acc[key] = sanitizeFormData(val);
    } else if (val === '' || typeof val === 'undefined' || (val === null || val === void 0 ? void 0 : val.length) === 0) {
      acc[key] = null;
    } else if (typeof val === 'string' && val) {
      acc[key] = formData[key].trim();
    } else {
      acc[key] = formData[key];
    }

    return acc;
  }, {});
};

var _default = sanitizeFormData;
exports["default"] = _default;